--// Services
local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local RunService = game:GetService("RunService")
local player = Players.LocalPlayer

--// Main GUI Setup
local screenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
screenGui.Name = "PetRandomizerUI"

local mainFrame = Instance.new("Frame", screenGui)
mainFrame.Position = UDim2.new(0.02, 0, 0.2, 0)
mainFrame.Size = UDim2.new(0, 250, 0, 170)
mainFrame.BackgroundColor3 = Color3.fromRGB(66, 44, 25)
mainFrame.BorderSizePixel = 0
mainFrame.BackgroundTransparency = 0.05

--// Title
local title = Instance.new("TextLabel", mainFrame)
title.Text = "Pet Randomizer\nMade by - KielCrafts"
title.Size = UDim2.new(1, 0, 0, 40)
title.TextColor3 = Color3.new(1,1,1)
title.BackgroundTransparency = 1
title.TextScaled = true
title.Font = Enum.Font.SourceSansBold

--// Buttons
local function createButton(name, text, color, posY)
	local button = Instance.new("TextButton", mainFrame)
	button.Name = name
	button.Text = text
	button.Size = UDim2.new(1, -10, 0, 35)
	button.Position = UDim2.new(0, 5, 0, posY)
	button.BackgroundColor3 = color
	button.TextScaled = true
	button.TextColor3 = Color3.new(1, 1, 1)
	button.Font = Enum.Font.SourceSansBold
	return button
end

local randomizeBtn = createButton("RandomizeBtn", "Randomize Pets", Color3.fromRGB(255, 140, 0), 40)
local espBtn = createButton("ESPBtn", "ESP: OFF", Color3.fromRGB(40, 40, 40), 80)
local autoBtn = createButton("AutoBtn", "Auto: OFF", Color3.fromRGB(0, 200, 0), 120)

--// Logic Tables
local eggNames = {"Common Egg", "Uncommon Egg", "Rare Egg", "Epic Egg"}
local pets = {
	["Common Egg"] = {"Dog", "Bunny", "Golden Lab"},
	["Uncommon Egg"] = {"Fox", "Duck", "Goose"},
	["Rare Egg"] = {"Monkey", "Rooster", "Horse"},
	["Epic Egg"] = {"Unicorn", "Dragon", "Phoenix"}
}

--// Randomizer Function
local function randomizePet()
	local selectedEgg = eggNames[math.random(1, #eggNames)]
	local petList = pets[selectedEgg]
	local chosenPet = petList[math.random(1, #petList)]
	warn("[Randomizer] Hatched from " .. selectedEgg .. ": " .. chosenPet)
end

--// ESP Functionality
local espEnabled = false
local function toggleESP()
	espEnabled = not espEnabled
	espBtn.Text = "ESP: " .. (espEnabled and "ON" or "OFF")

	for _, obj in ipairs(Workspace:GetDescendants()) do
		if obj:IsA("Part") and table.find(eggNames, obj.Name) then
			if espEnabled then
				local tag = Instance.new("BillboardGui", obj)
				tag.Name = "EggESP"
				tag.Size = UDim2.new(0, 100, 0, 50)
				tag.AlwaysOnTop = true
				local label = Instance.new("TextLabel", tag)
				label.Size = UDim2.new(1, 0, 1, 0)
				label.Text = obj.Name
				label.BackgroundTransparency = 1
				label.TextColor3 = Color3.fromRGB(255, 255, 0)
				label.TextScaled = true
			else
				if obj:FindFirstChild("EggESP") then
					obj:FindFirstChild("EggESP"):Destroy()
				end
			end
		end
	end
end

--// Auto Functionality
local autoEnabled = false
local function toggleAuto()
	autoEnabled = not autoEnabled
	autoBtn.Text = "Auto: " .. (autoEnabled and "ON" or "OFF")
end

--// Auto Loop
RunService.RenderStepped:Connect(function()
	if autoEnabled then
		randomizePet()
		wait(1.5) -- auto delay
	end
end)

--// Button Events
randomizeBtn.MouseButton1Click:Connect(randomizePet)
espBtn.MouseButton1Click:Connect(toggleESP)
autoBtn.MouseButton1Click:Connect(toggleAuto)
